apiVersion: v1
kind: Pod
metadata:
  name: kube-scheduler
spec:
  hostNetwork: true
  containers:
  - name: kube-scheduler
    image: {{ hyperkube_image }}
    command:
    - /hyperkube
    - scheduler
    - --master=127.0.0.1:8080 
    - --leader-elect=true 
    # - 1>>/var/log/kube-scheduler.log 2>&1
    livenessProbe:
      httpGet:
        path: /healthz
        port: 10251
      initialDelaySeconds: 15
      timeoutSeconds: 1
    volumeMounts:
    - mountPath: /var/log/kube-scheduler.log
      name: logfile
    # - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
    #   name: default-token-s8ejd
    #   readOnly: true
  volumes:
  - hostPath:
      path: /var/log/kube-scheduler.log
    name: logfile
